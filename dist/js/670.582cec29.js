"use strict";(self["webpackChunkcnpdsite"]=self["webpackChunkcnpdsite"]||[]).push([[670],{2670:function(t,e,s){s.r(e),s.d(e,{default:function(){return I}});var r=s(3396);const n={id:"app"};function i(t,e,s,i,a,o){const l=(0,r.up)("PlanosCnpd");return(0,r.wg)(),(0,r.iD)("div",n,[(0,r.Wm)(l)])}var a=s(7139),o=s(9242);const l={id:"decisoes",class:"decisoes"},c={class:"container"},u={class:"section-bredcumbs"},d=(0,r._)("b",null,"Página Inicial",-1),h=(0,r._)("b",null," > ",-1),p=(0,r._)("b",null,"Planos de Atividades",-1),_=(0,r._)("div",{class:"section-title"},[(0,r._)("h2",null,"Planos de Atividades - CNPD")],-1),f={class:"col-md-12"},g={class:"form-group"},b={class:"pleft"},w=(0,r._)("br",null,null,-1),m={class:"table-responsive"},P={class:"table table-striped table-bordered",style:{width:"100%"}},v={width:"400px",class:"trcabecalho"},S=(0,r._)("th",{scope:"col"},"#",-1),k=(0,r._)("i",{class:"fas fa-sort-alpha-down float-right"},null,-1),C=(0,r._)("i",{class:"fas fa-sort-alpha-down float-right"},null,-1),z={id:"idpage"},y=(0,r._)("i",{class:"fas fa-arrow-left"},null,-1),D=[y],x=(0,r._)("i",{class:"fas fa-arrow-right"},null,-1),A=[x];function L(t,e,s,n,i,y){const x=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("section",l,[(0,r._)("div",c,[(0,r._)("div",u,[(0,r._)("h5",null,[(0,r.Uk)(" Onde estou? "),(0,r.Wm)(x,{style:{"text-decoration":"none"},to:"/"},{default:(0,r.w5)((()=>[d])),_:1}),h,(0,r.Wm)(x,{style:{"text-decoration":"none"},to:"/planos"},{default:(0,r.w5)((()=>[p])),_:1})])]),_,(0,r._)("div",f,[(0,r._)("div",g,[(0,r._)("p",b,"Planos de Atividades disponíveis: "+(0,a.zw)(y.countNumbers()),1),(0,r.wy)((0,r._)("input",{id:"idsearch",type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=e=>t.search=e),placeholder:"Procurar por título ou por ano ..."},null,512),[[o.nr,t.search]])]),w,(0,r._)("div",m,[(0,r._)("table",P,[(0,r._)("thead",v,[(0,r._)("tr",null,[S,(0,r._)("th",{scope:"col",onClick:e[1]||(e[1]=t=>y.sort("titulo"))},[(0,r.Uk)("Título"),k]),(0,r._)("th",{scope:"col",onClick:e[2]||(e[2]=t=>y.sort("num_doc"))},[(0,r.Uk)("Ano"),C])])]),(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((y.sortedActivity,y.filteredList),((t,e)=>((0,r.wg)(),(0,r.iD)("tr",{key:t.id},[(0,r._)("td",null,(0,a.zw)(e+1),1),(0,r._)("td",null,[(0,r.Wm)(x,{to:{name:"planoview",params:{id:t.id}}},{default:(0,r.w5)((()=>[(0,r.Uk)((0,a.zw)(t.titulo),1)])),_:2},1032,["to"])]),(0,r._)("td",null,(0,a.zw)(t.num_doc),1)])))),128))])])]),(0,r._)("div",z,[(0,r._)("button",{id:"button",onClick:e[3]||(e[3]=(...t)=>y.prevPage&&y.prevPage(...t)),class:"float-left btn btn-outline-info btn-sm"},D),(0,r._)("button",{id:"button",onClick:e[4]||(e[4]=(...t)=>y.nextPage&&y.nextPage(...t)),class:"float-right btn btn-outline-info btn-sm"},A)])])])])}var U=s(70),W={name:"PlanosCnpd",data:()=>({listas:[],currentSort:"titulo",currentSortDir:"asc",search:"",searchSelection:"",pageSize:8,currentPage:1}),methods:{sort(t){t===this.currentSort&&(this.currentSortDir="asc"===this.currentSortDir?"desc":"asc"),this.currentSort=t},nextPage(){this.currentPage*this.pageSize<this.listas.length&&this.currentPage++},prevPage(){this.currentPage>1&&this.currentPage--},countNumbers(){return this.listas.length}},computed:{sortedActivity(){return this.listas.sort(((t,e)=>{let s=1;return"desc"===this.currentSortDir&&(s=-1),t[this.currentSort]<e[this.currentSort]?-1*s:t[this.currentSort]>e[this.currentSort]?1*s:0})).filter(((t,e)=>{let s=(this.currentPage-1)*this.pageSize,r=this.currentPage*this.pageSize;if(e>=s&&e<r)return!0}))},filteredList(){return this.listas.filter((t=>{let e=t.titulo.toLowerCase().match(this.search.toLowerCase()),s=t.num_doc.toLowerCase().match(this.search.toLowerCase());return e||s})).filter(((t,e)=>{let s=(this.currentPage-1)*this.pageSize,r=this.currentPage*this.pageSize;if(e>=s&&e<r)return!0}))}},created(){U.ZP.get("http://127.0.0.1:8000/api/planos").then((t=>{this.listas=t.data}))},mounted(){window.scrollTo(0,0)}},N=s(89);const Z=(0,N.Z)(W,[["render",L]]);var T=Z,V={name:"PlanosView",components:{PlanosCnpd:T}};const H=(0,N.Z)(V,[["render",i]]);var I=H}}]);
//# sourceMappingURL=670.582cec29.js.map